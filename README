My JS lib from around 2007-2008 with some changes through the years